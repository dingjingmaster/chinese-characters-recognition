# 中文编码识别
GB2312(1980年)共收录 7445 个字符  -->  GBK1.0(1995年)共收录 21886 个字符  -->  GB18030(2000年)取代GBK1.0共收录 27484 个汉字包含了少数民族语言。
> 从 ASCII  ->  GB2312  ->  GBK  ->  GB18030，这些编码都是向下兼容的。区分中文编码的方法是最高字节的最高位不为 0。这些都属于双字节字符集。

- Unicode 只与 ASCII 兼容，它是由国际组织设计，学名是 "Universal Multiple-Octet Coded Character Set"，简称为 UCS。UCS 可以看作是 "Unicode Character Set" 的缩写。

- UCS 规定了怎么用多个字节表示各种文字。怎样传输这些编码，是由 UTF(UCS Transformation Format) 规范规定的，常见的 UTF 规范包括 UTF-8、UTF-7、UTF-16。

## GB2312 编码(别名:EUC-CN)
- GB2312 规定每个英文字符占1字节，中文字符采用两个字节表示
- GB2312 整体分为 94 个区，每个区 94 位，01-09 特殊符号区；16-55一级汉字，按拼音排序；56-87二级汉字，部首/笔划排序；10-15与88-94未定义
- GB2312 是区位编码，编码范围是 0XA1A1-0XFEFE，其中汉字编码范围是 0XB0A1-0XF7FE。
- GB2312 01-09 符号和数字区，16-87是汉字区 
- GB2312 编码计算：`[区号+0XA1][位号+0XA1]`

### ascii 可见字符
- 1. ascii 里显示的特殊符号 32(space) - 47(/)
- 2. ascii 里数字 30(0) - 39(9)
- 3. ascii 里显示的特殊符号 58(:) - 64(@)
- 4. ascii 里显示的大写字母 65(A) - 90(Z)
- 5. ascii 里显示的标号字符 91([) - 96(`)
- 6. ascii 里显示的大写字母 97(a) - 122(z)
- 7. ascii 其它可显示字符 123({) - 126(~)
    
### gb2312 可显示的常用汉字
- 1. A3A0(space) - A3FE(-) <应该是传说中全角下的输入>
- 2. B0A1(啊) - F7FE(齄)
    
## Unicode 编码说明

- Unicode 只是一个符号集，它只规定了符号的二进制代码，却没有规定这个二进制代码应该如何存储。
  - 问题1: 如何才能区别unicode和ascii
  - 问题2: 我们已经知道，英文字母只用一个字节表示就够了，如果 unicode 统一规定，每个符号用三个或四个字节表示，那么每个英文字母前都必然有二到三个字节是 0， 这对于存储来说是极大的浪费，文本文件的大小会因此大出 2-3 倍，这是无法接受的。
  
## utf-8 编码说明(仅涉及汉字部分)
UTF-8 是一种变长字节编码方式，是 Unicode 的一种实现方式，使用 1-4 个字节表示一个符号， 对于某一个字符的 UTF-8 编码，如果只有一个字节则其最高二进制位为 0；
如果是多字节，其第一个字节从最高位开始，连续的二进制位值为 1 的个数决定了其编码的位数，其余各字节均以 10 开头。UTF-8 最多可用到 6 个字节。
```
1字节 0xxxxxxx 
2字节 110xxxxx 10xxxxxx 
3字节 1110xxxx 10xxxxxx 10xxxxxx 
4字节 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx 
5字节 111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 
6字节 1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx
```
因此 UTF-8 中可以用来表示字符编码的实际位数最多有 31 位，即上表中 x 所表示的位。
除去那些控制位（每字节开头的 10 等），这些 x 表示的位 与 UNICODE 编码是一一对应的，位高低顺序也相同。 
> 实际上 utf-8 编码没用到 6 字节那么多，只用到了 4 字节。

> 另外补充 utf16，介于 utf8 与 utf32 之间，部分编码定长、部分编码不定长(只有两种)
> utf32 是定长的，用 4 字节表示一个字符

### utf-8 编码规则
1. 对于单字节的符号，字节的第一位设为 0，后面 7 位为这个符号的 unicode 码。因此对于英语字母，UTF-8 编码和 ASCII 码是相同的。
2. 对于 n 字节的符号（n>1），第一个字节的前 n 位都设为 1，第 n+1 位设为0，后面字节前两位一律设为 10。剩下的没有提及的二进制位，全部为这个符号的 unicode 码。

```
1字节, utf8-1 0x00-0x7F
2字节, utf8-2 0xC2-0XDF   0X80-0XBF
3字节, utf8-3 0xE0        0xA0-0XBF   0x80-0xBF
             0xE1-0XEC   0x80-0XBF   0x80-0xBF
             0xED        0x80-0x9F   0x80-0xBF
             0xEE-0xEF   0x80-0xBF   0x80-0xBF
4字节, utf8-4 0xF0        0x90-0xBF   0x80-0xBF   0x80-0xBF
             0xF1-0xF3   0x80-0xBF   0x80-0xBF   0x80-0xBF
             0xF4        0x80-0x8F   0x80-0xBF   0x80-0xBF
```

> 要注意大小端字节序

### unicode 汉字编码表
|字符集|字数|unicode 编码|
|---|---|---|
|基本汉字|20902字|4E00(一) - 9FA5(龥)|
|基本汉字扩充|90字|9FA6(龦) - 9FFF(<无法显示>) 这些看着不像汉字，先不管|
|扩展A|6592字|3400 - 4DBF，看着不像汉字|
|扩展B|42720字|20000-2A6DF|
|扩展C|4153字|2A700-2B738|
|扩展D|222字|2B740-2B81D|
|扩展E|5762字|2B820-2CEA1|
|扩展F|7473字|2CEB0-2EBE0|
|扩展G|4939字|30000-3134A|
|康熙部首|214字|2F00-2FD5|
|部首扩展|115字|2E80-2EF3|
|兼容汉字|477字|F900-FAD9|
|兼容扩展|542字|2F800-2FA1D|
|PUA(GBK)部件|81字|E815-E86F|
|部件扩展|452字|E400-E5E8|
|PUA增补|207字|E600-E6CF|
|汉字笔画|36字|31C0-31E3|
|汉字结构|12字|2FF0-2FFB|
|汉语注音|43字|3105-312F|
|注音扩展|22字|31A0-31BA|
|〇|1字|3007|

### utf-8 汉字编码范围
utf-8 中汉字占用 3 字节
